openapi: 3.0.0
info:
  title: TheOrgBook API
  description: >-
    TheOrgBook is a public, searchable directory of digital records for
    registered businesses in the Province of British Columbia. Over time, other
    government organizations and businesses will also begin to issue digital
    records through TheOrgBook. For example, permits and licenses issued by
    various government services.
  termsOfService: 'https://www2.gov.bc.ca/gov/content/data/open-data'
  contact:
    email: bcdevexchange@gov.bc.ca
  license:
    name: Open Government License - British Columbia
    url: >-
      https://www2.gov.bc.ca/gov/content/data/open-data/api-terms-of-use-for-ogl-information
  version: v2
paths:
  /address:
    get:
      operationId: address_list
      description: ''
      parameters:
        - name: page
          in: query
          description: A page number within the paginated result set.
          required: false
          schema:
            type: integer
        - name: name
          in: query
          description: Filter credentials by related name
          schema:
            type: string
        - name: inactive
          in: query
          description: Filter inactive credentials ('true'/'false'/'' for all)
          schema:
            type: boolean
        - name: revoked
          in: query
          description: Filter revoked credentials ('true'/'false'/'' for all)
          schema:
            type: boolean
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                required:
                  - count
                  - results
                type: object
                properties:
                  count:
                    type: integer
                  next:
                    type: string
                    format: uri
                  previous:
                    type: string
                    format: uri
                  results:
                    type: array
                    items:
                      $ref: '#/components/schemas/Address'
      tags:
        - address
    parameters: []
  '/address/{id}':
    get:
      operationId: address_read
      description: ''
      parameters:
        - name: name
          in: query
          description: Filter credentials by related name
          schema:
            type: string
        - name: inactive
          in: query
          description: Filter inactive credentials ('true'/'false'/'' for all)
          schema:
            type: boolean
        - name: revoked
          in: query
          description: Filter revoked credentials ('true'/'false'/'' for all)
          schema:
            type: boolean
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Address'
      tags:
        - address
    parameters:
      - name: id
        in: path
        description: A unique integer value identifying this address.
        required: true
        schema:
          type: integer
  /attribute:
    get:
      operationId: attribute_list
      description: ''
      parameters:
        - name: page
          in: query
          description: A page number within the paginated result set.
          required: false
          schema:
            type: integer
        - name: name
          in: query
          description: Filter credentials by related name
          schema:
            type: string
        - name: inactive
          in: query
          description: Filter inactive credentials ('true'/'false'/'' for all)
          schema:
            type: boolean
        - name: revoked
          in: query
          description: Filter revoked credentials ('true'/'false'/'' for all)
          schema:
            type: boolean
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                required:
                  - count
                  - results
                type: object
                properties:
                  count:
                    type: integer
                  next:
                    type: string
                    format: uri
                  previous:
                    type: string
                    format: uri
                  results:
                    type: array
                    items:
                      $ref: '#/components/schemas/Attribute'
      tags:
        - attribute
    parameters: []
  '/attribute/{id}':
    get:
      operationId: attribute_read
      description: ''
      parameters:
        - name: name
          in: query
          description: Filter credentials by related name
          schema:
            type: string
        - name: inactive
          in: query
          description: Filter inactive credentials ('true'/'false'/'' for all)
          schema:
            type: boolean
        - name: revoked
          in: query
          description: Filter revoked credentials ('true'/'false'/'' for all)
          schema:
            type: boolean
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Attribute'
      tags:
        - attribute
    parameters:
      - name: id
        in: path
        description: A unique integer value identifying this attribute.
        required: true
        schema:
          type: integer
  /credential:
    get:
      operationId: credential_list
      description: ''
      parameters:
        - name: page
          in: query
          description: A page number within the paginated result set.
          required: false
          schema:
            type: integer
        - name: name
          in: query
          description: Filter credentials by related name
          schema:
            type: string
        - name: inactive
          in: query
          description: Filter inactive credentials ('true'/'false'/'' for all)
          schema:
            type: boolean
        - name: revoked
          in: query
          description: Filter revoked credentials ('true'/'false'/'' for all)
          schema:
            type: boolean
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                required:
                  - count
                  - results
                type: object
                properties:
                  count:
                    type: integer
                  next:
                    type: string
                    format: uri
                  previous:
                    type: string
                    format: uri
                  results:
                    type: array
                    items:
                      $ref: '#/components/schemas/Credential'
      tags:
        - credential
    parameters: []
  /credential/active:
    get:
      operationId: credential_list_active
      description: ''
      parameters:
        - name: page
          in: query
          description: A page number within the paginated result set.
          required: false
          schema:
            type: integer
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                required:
                  - count
                  - results
                type: object
                properties:
                  count:
                    type: integer
                  next:
                    type: string
                    format: uri
                  previous:
                    type: string
                    format: uri
                  results:
                    type: array
                    items:
                      $ref: '#/components/schemas/Credential'
      tags:
        - credential
    parameters: []
  /credential/historical:
    get:
      operationId: credential_list_historical
      description: ''
      parameters:
        - name: page
          in: query
          description: A page number within the paginated result set.
          required: false
          schema:
            type: integer
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                required:
                  - count
                  - results
                type: object
                properties:
                  count:
                    type: integer
                  next:
                    type: string
                    format: uri
                  previous:
                    type: string
                    format: uri
                  results:
                    type: array
                    items:
                      $ref: '#/components/schemas/Credential'
      tags:
        - credential
    parameters: []
  '/credential/{id}':
    get:
      operationId: credential_read
      description: ''
      parameters:
        - name: name
          in: query
          description: Filter credentials by related name
          schema:
            type: string
        - name: inactive
          in: query
          description: Filter inactive credentials ('true'/'false'/'' for all)
          schema:
            type: boolean
        - name: revoked
          in: query
          description: Filter revoked credentials ('true'/'false'/'' for all)
          schema:
            type: boolean
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Credential'
      tags:
        - credential
    parameters:
      - name: id
        in: path
        description: A unique integer value identifying this credential.
        required: true
        schema:
          type: integer
  '/credential/{id}/formatted':
    get:
      operationId: credential_retrieve_formatted
      description: ''
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Credential'
      tags:
        - credential
    parameters:
      - name: id
        in: path
        description: A unique integer value identifying this credential.
        required: true
        schema:
          type: integer
  '/credential/{id}/latest':
    get:
      operationId: credential_get_latest
      description: ''
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Credential'
      tags:
        - credential
    parameters:
      - name: id
        in: path
        description: A unique integer value identifying this credential.
        required: true
        schema:
          type: integer
  /credentialtype:
    get:
      operationId: credentialtype_list
      description: ''
      parameters:
        - name: page
          in: query
          description: A page number within the paginated result set.
          required: false
          schema:
            type: integer
        - name: name
          in: query
          description: Filter credentials by related name
          schema:
            type: string
        - name: inactive
          in: query
          description: Filter inactive credentials ('true'/'false'/'' for all)
          schema:
            type: boolean
        - name: revoked
          in: query
          description: Filter revoked credentials ('true'/'false'/'' for all)
          schema:
            type: boolean
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                required:
                  - count
                  - results
                type: object
                properties:
                  count:
                    type: integer
                  next:
                    type: string
                    format: uri
                  previous:
                    type: string
                    format: uri
                  results:
                    type: array
                    items:
                      $ref: '#/components/schemas/CredentialType'
      tags:
        - credentialtype
    parameters: []
  '/credentialtype/{id}':
    get:
      operationId: credentialtype_read
      description: ''
      parameters:
        - name: name
          in: query
          description: Filter credentials by related name
          schema:
            type: string
        - name: inactive
          in: query
          description: Filter inactive credentials ('true'/'false'/'' for all)
          schema:
            type: boolean
        - name: revoked
          in: query
          description: Filter revoked credentials ('true'/'false'/'' for all)
          schema:
            type: boolean
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CredentialType'
      tags:
        - credentialtype
    parameters:
      - name: id
        in: path
        description: A unique integer value identifying this credential type.
        required: true
        schema:
          type: integer
  '/credentialtype/{id}/logo':
    get:
      operationId: credentialtype_fetch_logo
      description: ''
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CredentialType'
      tags:
        - credentialtype
    parameters:
      - name: id
        in: path
        description: A unique integer value identifying this credential type.
        required: true
        schema:
          type: integer
  /issuer:
    get:
      operationId: issuer_list
      description: ''
      parameters:
        - name: page
          in: query
          description: A page number within the paginated result set.
          required: false
          schema:
            type: integer
        - name: name
          in: query
          description: Filter credentials by related name
          schema:
            type: string
        - name: inactive
          in: query
          description: Filter inactive credentials ('true'/'false'/'' for all)
          schema:
            type: boolean
        - name: revoked
          in: query
          description: Filter revoked credentials ('true'/'false'/'' for all)
          schema:
            type: boolean
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                required:
                  - count
                  - results
                type: object
                properties:
                  count:
                    type: integer
                  next:
                    type: string
                    format: uri
                  previous:
                    type: string
                    format: uri
                  results:
                    type: array
                    items:
                      $ref: '#/components/schemas/Issuer'
      tags:
        - issuer
    parameters: []
  '/issuer/{id}':
    get:
      operationId: issuer_read
      description: ''
      parameters:
        - name: name
          in: query
          description: Filter credentials by related name
          schema:
            type: string
        - name: inactive
          in: query
          description: Filter inactive credentials ('true'/'false'/'' for all)
          schema:
            type: boolean
        - name: revoked
          in: query
          description: Filter revoked credentials ('true'/'false'/'' for all)
          schema:
            type: boolean
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Issuer'
      tags:
        - issuer
    parameters:
      - name: id
        in: path
        description: A unique integer value identifying this issuer.
        required: true
        schema:
          type: integer
  '/issuer/{id}/credentialtype':
    get:
      operationId: issuer_list_credential_types
      description: ''
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Issuer'
      tags:
        - issuer
    parameters:
      - name: id
        in: path
        description: A unique integer value identifying this issuer.
        required: true
        schema:
          type: integer
  '/issuer/{id}/logo':
    get:
      operationId: issuer_fetch_logo
      description: ''
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Issuer'
      tags:
        - issuer
    parameters:
      - name: id
        in: path
        description: A unique integer value identifying this issuer.
        required: true
        schema:
          type: integer
  /name:
    get:
      operationId: name_list
      description: ''
      parameters:
        - name: page
          in: query
          description: A page number within the paginated result set.
          required: false
          schema:
            type: integer
        - name: name
          in: query
          description: Filter credentials by related name
          schema:
            type: string
        - name: inactive
          in: query
          description: Filter inactive credentials ('true'/'false'/'' for all)
          schema:
            type: boolean
        - name: revoked
          in: query
          description: Filter revoked credentials ('true'/'false'/'' for all)
          schema:
            type: boolean
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                required:
                  - count
                  - results
                type: object
                properties:
                  count:
                    type: integer
                  next:
                    type: string
                    format: uri
                  previous:
                    type: string
                    format: uri
                  results:
                    type: array
                    items:
                      $ref: '#/components/schemas/Name'
      tags:
        - name
    parameters: []
  '/name/{id}':
    get:
      operationId: name_read
      description: ''
      parameters:
        - name: name
          in: query
          description: Filter credentials by related name
          schema:
            type: string
        - name: inactive
          in: query
          description: Filter inactive credentials ('true'/'false'/'' for all)
          schema:
            type: boolean
        - name: revoked
          in: query
          description: Filter revoked credentials ('true'/'false'/'' for all)
          schema:
            type: boolean
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Name'
      tags:
        - name
    parameters:
      - name: id
        in: path
        description: A unique integer value identifying this name.
        required: true
        schema:
          type: integer
  /quickload:
    get:
      operationId: quickload_list
      description: ''
      responses:
        '200':
          description: OK
      tags:
        - quickload
    parameters: []
  /schema:
    get:
      operationId: schema_list
      description: ''
      parameters:
        - name: page
          in: query
          description: A page number within the paginated result set.
          required: false
          schema:
            type: integer
        - name: name
          in: query
          description: Filter credentials by related name
          schema:
            type: string
        - name: inactive
          in: query
          description: Filter inactive credentials ('true'/'false'/'' for all)
          schema:
            type: boolean
        - name: revoked
          in: query
          description: Filter revoked credentials ('true'/'false'/'' for all)
          schema:
            type: boolean
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                required:
                  - count
                  - results
                type: object
                properties:
                  count:
                    type: integer
                  next:
                    type: string
                    format: uri
                  previous:
                    type: string
                    format: uri
                  results:
                    type: array
                    items:
                      $ref: '#/components/schemas/Schema'
      tags:
        - schema
    parameters: []
  '/schema/{id}':
    get:
      operationId: schema_read
      description: ''
      parameters:
        - name: name
          in: query
          description: Filter credentials by related name
          schema:
            type: string
        - name: inactive
          in: query
          description: Filter inactive credentials ('true'/'false'/'' for all)
          schema:
            type: boolean
        - name: revoked
          in: query
          description: Filter revoked credentials ('true'/'false'/'' for all)
          schema:
            type: boolean
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Schema'
      tags:
        - schema
    parameters:
      - name: id
        in: path
        description: A unique integer value identifying this schema.
        required: true
        schema:
          type: integer
  /search/autocomplete:
    get:
      operationId: search_autocomplete_list
      description: Return autocomplete results for a query string
      parameters:
        - name: q
          in: query
          description: Query string
          schema:
            type: string
        - name: hl
          in: query
          description: Highlight search term
          schema:
            type: boolean
      responses:
        '200':
          description: OK
      tags:
        - search
    parameters: []
  /search/credential:
    get:
      operationId: search_credential_list
      description: >-
        Provide credential search via Solr with both faceted (/facets) and
        unfaceted results
      parameters:
        - name: page
          in: query
          description: A page number within the paginated result set.
          required: false
          schema:
            type: integer
        - name: name
          in: query
          description: Filter credentials by related name
          schema:
            type: string
        - name: inactive
          in: query
          description: Filter inactive credentials ('true'/'false'/'' for all)
          schema:
            type: boolean
        - name: revoked
          in: query
          description: Filter revoked credentials ('true'/'false'/'' for all)
          schema:
            type: boolean
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                required:
                  - count
                  - results
                type: object
                properties:
                  count:
                    type: integer
                  next:
                    type: string
                    format: uri
                  previous:
                    type: string
                    format: uri
                  results:
                    type: array
                    items:
                      $ref: '#/components/schemas/CredentialSearch'
      tags:
        - search
    parameters: []
  /search/credential/facets:
    get:
      operationId: search_credential_facets
      description: |-
        Sets up a list route for ``faceted`` results.
        This will add ie ^search/facets/$ to your existing ^search pattern.
      parameters:
        - name: page
          in: query
          description: A page number within the paginated result set.
          required: false
          schema:
            type: integer
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                required:
                  - count
                  - results
                type: object
                properties:
                  count:
                    type: integer
                  next:
                    type: string
                    format: uri
                  previous:
                    type: string
                    format: uri
                  results:
                    type: array
                    items:
                      $ref: '#/components/schemas/CredentialSearch'
      tags:
        - search
    parameters: []
  /search/credential/topic:
    get:
      operationId: search_credential_topic_list
      description: ''
      parameters:
        - name: page
          in: query
          description: A page number within the paginated result set.
          required: false
          schema:
            type: integer
        - name: name
          in: query
          description: Filter credentials by related name
          schema:
            type: string
        - name: inactive
          in: query
          description: Filter inactive credentials ('true'/'false'/'' for all)
          schema:
            type: boolean
        - name: revoked
          in: query
          description: Filter revoked credentials ('true'/'false'/'' for all)
          schema:
            type: boolean
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                required:
                  - count
                  - results
                type: object
                properties:
                  count:
                    type: integer
                  next:
                    type: string
                    format: uri
                  previous:
                    type: string
                    format: uri
                  results:
                    type: array
                    items:
                      $ref: '#/components/schemas/CredentialTopicSearch'
      tags:
        - search
    parameters: []
  /search/credential/topic/facets:
    get:
      operationId: search_credential_topic_facets
      description: |-
        Sets up a list route for ``faceted`` results.
        This will add ie ^search/facets/$ to your existing ^search pattern.
      parameters:
        - name: page
          in: query
          description: A page number within the paginated result set.
          required: false
          schema:
            type: integer
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                required:
                  - count
                  - results
                type: object
                properties:
                  count:
                    type: integer
                  next:
                    type: string
                    format: uri
                  previous:
                    type: string
                    format: uri
                  results:
                    type: array
                    items:
                      $ref: '#/components/schemas/CredentialTopicSearch'
      tags:
        - search
    parameters: []
  '/search/credential/topic/{id}':
    get:
      operationId: search_credential_topic_read
      description: ''
      parameters:
        - name: name
          in: query
          description: Filter credentials by related name
          schema:
            type: string
        - name: inactive
          in: query
          description: Filter inactive credentials ('true'/'false'/'' for all)
          schema:
            type: boolean
        - name: revoked
          in: query
          description: Filter revoked credentials ('true'/'false'/'' for all)
          schema:
            type: boolean
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CredentialTopicSearch'
      tags:
        - search
    parameters:
      - name: id
        in: path
        required: true
        schema:
          type: string
  '/search/credential/{id}':
    get:
      operationId: search_credential_read
      description: >-
        Provide credential search via Solr with both faceted (/facets) and
        unfaceted results
      parameters:
        - name: name
          in: query
          description: Filter credentials by related name
          schema:
            type: string
        - name: inactive
          in: query
          description: Filter inactive credentials ('true'/'false'/'' for all)
          schema:
            type: boolean
        - name: revoked
          in: query
          description: Filter revoked credentials ('true'/'false'/'' for all)
          schema:
            type: boolean
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CredentialSearch'
      tags:
        - search
    parameters:
      - name: id
        in: path
        required: true
        schema:
          type: string
  /topic:
    get:
      operationId: topic_list
      description: ''
      parameters:
        - name: page
          in: query
          description: A page number within the paginated result set.
          required: false
          schema:
            type: integer
        - name: name
          in: query
          description: Filter credentials by related name
          schema:
            type: string
        - name: inactive
          in: query
          description: Filter inactive credentials ('true'/'false'/'' for all)
          schema:
            type: boolean
        - name: revoked
          in: query
          description: Filter revoked credentials ('true'/'false'/'' for all)
          schema:
            type: boolean
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                required:
                  - count
                  - results
                type: object
                properties:
                  count:
                    type: integer
                  next:
                    type: string
                    format: uri
                  previous:
                    type: string
                    format: uri
                  results:
                    type: array
                    items:
                      $ref: '#/components/schemas/Topic'
      tags:
        - topic
    parameters: []
  '/topic/ident/{type}/{source_id}':
    get:
      operationId: topic_retrieve_by_type
      description: ''
      parameters:
        - name: page
          in: query
          description: A page number within the paginated result set.
          required: false
          schema:
            type: integer
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                required:
                  - count
                  - results
                type: object
                properties:
                  count:
                    type: integer
                  next:
                    type: string
                    format: uri
                  previous:
                    type: string
                    format: uri
                  results:
                    type: array
                    items:
                      $ref: '#/components/schemas/Topic'
      tags:
        - topic
    parameters:
      - name: source_id
        in: path
        required: true
        schema:
          type: string
      - name: type
        in: path
        required: true
        schema:
          type: string
  '/topic/ident/{type}/{source_id}/formatted':
    get:
      operationId: topic_ident_retrieve_by_type_formatted
      description: ''
      parameters:
        - name: page
          in: query
          description: A page number within the paginated result set.
          required: false
          schema:
            type: integer
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                required:
                  - count
                  - results
                type: object
                properties:
                  count:
                    type: integer
                  next:
                    type: string
                    format: uri
                  previous:
                    type: string
                    format: uri
                  results:
                    type: array
                    items:
                      $ref: '#/components/schemas/Topic'
      tags:
        - topic
    parameters:
      - name: source_id
        in: path
        required: true
        schema:
          type: string
      - name: type
        in: path
        required: true
        schema:
          type: string
  '/topic/{id}':
    get:
      operationId: topic_read
      description: ''
      parameters:
        - name: name
          in: query
          description: Filter credentials by related name
          schema:
            type: string
        - name: inactive
          in: query
          description: Filter inactive credentials ('true'/'false'/'' for all)
          schema:
            type: boolean
        - name: revoked
          in: query
          description: Filter revoked credentials ('true'/'false'/'' for all)
          schema:
            type: boolean
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Topic'
      tags:
        - topic
    parameters:
      - name: id
        in: path
        description: A unique integer value identifying this topic.
        required: true
        schema:
          type: integer
  '/topic/{id}/credential':
    get:
      operationId: topic_list_credentials
      description: ''
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Topic'
      tags:
        - topic
    parameters:
      - name: id
        in: path
        description: A unique integer value identifying this topic.
        required: true
        schema:
          type: integer
  '/topic/{id}/credential/active':
    get:
      operationId: topic_credential_list_active_credentials
      description: ''
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Topic'
      tags:
        - topic
    parameters:
      - name: id
        in: path
        description: A unique integer value identifying this topic.
        required: true
        schema:
          type: integer
  '/topic/{id}/credential/historical':
    get:
      operationId: topic_credential_list_historical_credentials
      description: ''
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Topic'
      tags:
        - topic
    parameters:
      - name: id
        in: path
        description: A unique integer value identifying this topic.
        required: true
        schema:
          type: integer
  '/topic/{id}/credentialset':
    get:
      operationId: topic_list_credential_sets
      description: ''
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Topic'
      tags:
        - topic
    parameters:
      - name: id
        in: path
        description: A unique integer value identifying this topic.
        required: true
        schema:
          type: integer
  '/topic/{id}/formatted':
    get:
      operationId: topic_retrieve_formatted
      description: ''
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Topic'
      tags:
        - topic
    parameters:
      - name: id
        in: path
        description: A unique integer value identifying this topic.
        required: true
        schema:
          type: integer
  '/topic/{id}/related_from':
    get:
      operationId: topic_list_related_from
      description: ''
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Topic'
      tags:
        - topic
    parameters:
      - name: id
        in: path
        description: A unique integer value identifying this topic.
        required: true
        schema:
          type: integer
  '/topic/{id}/related_to':
    get:
      operationId: topic_list_related_to
      description: ''
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Topic'
      tags:
        - topic
    parameters:
      - name: id
        in: path
        description: A unique integer value identifying this topic.
        required: true
        schema:
          type: integer

  "/indy/construct-proof":
    post:
      operationId: indy_construct_proof
      description: >-
        Constructs a proof given a proof request

        ```json

        {
            "proof_request": <HL Indy proof request>
        }

        ```

        returns: HL Indy proof data
        
      responses:
        "200":
          description: OK
      tags:
        - indy

  "/indy/generate-credential-request":
    post:
      operationId: indy_generate_credential_request
      description: >-
        Processes a credential definition and responds with a credential request
        which can then be used to submit a credential.

        Example request payload:

        ```json
        
        {
            'credential_offer': <credential offer json>,
            'credential_definition': <credential definition json>
        }
        
        ```

        returns:

        ```json
        
        {
            "credential_request": <credential request json>,
            "credential_request_metadata": <credential request metadata json>
        }
        
        ```

      responses:
        "200":
          description: OK
      tags:
        - indy

  "/indy/store-credential":
    post:
      operationId: indy_store_credential
      description: >-
        Stores one or more verifiable credentials in the wallet.

        The data in the credential is parsed and stored in the database
        for search/display purposes based on the issuer's processor config.
        The data is then made available through a REST API as well as a
        search API.

        Example request payload:

        ```json

        {
            "credential_data": <credential data>,
            "credential_request_metadata": <credential request metadata>
        }

        ```

        Input may also be in the form of an array of credential data:

        ```json

        [
            {
                "credential_data": <credential data>,
                "credential_request_metadata": <credential request metadata>
            },
            {
                "credential_data": <credential data>,
                "credential_request_metadata": <credential request metadata>
            }
        ]

        ```

        Returns: the wallet ID of the stored credential or credentials
      responses:
        "200":
          description: OK
      tags:
        - indy

  "/indy/register-issuer":
    post:
      operationId: indy_register_issuer
      description: >-
        Processes an issuer definition and creates or updates the
        corresponding records. Responds with the updated issuer
        definition including record IDs.

        Example request payload:

        ```json

        {
            "issuer": {
                "did": "6qnvgJtqwK44D8LFYnV5Yf", // required
                "name": "BC Corporate Registry", // required
                "abbreviation": "BCReg",
                "email": "bcreg.test.issuer@example.ca",
                "url": "http://localhost:5000"
            },
            "credential_types": [
                {
                "name": "Incorporation",
                "schema": "incorporation.bc_registries",
                "version": "1.0.31",
                "endpoint": "http://localhost:5000/bcreg/incorporation",
                "topic": {
                    "source_id": {
                        "input": "corp_num",
                        "from": "claim"
                    },
                    "type": {
                        "input": "incorporation",
                        "from": "value"
                    }
                },
                "mapping": [
                    {
                    "model": "name",
                    "fields": {
                        "text": {
                            "input": "legal_name",
                            "from": "claim"
                        },
                        "type": {
                            "input": "legal_name",
                            "from": "value"
                        }
                    }
                    }
                ]
                },
                {
                "name": "Doing Business As",
                "schema": "doing_business_as.bc_registries",
                "version": "1.0.31",
                "endpoint": "http://localhost:5000/bcreg/dba",
                "topic": {
                    "parent_source_id": {
                        "input": "org_registry_id",
                        "from": "claim"
                    },
                    "parent_type": {
                        "input": "incorporation",
                        "from": "value"
                    },
                    "source_id": {
                        "input": "dba_corp_num",
                        "from": "claim"
                    },
                    "type": {
                        "input": "doing_business_as",
                        "from": "value"
                    }
                },
                "mapping": [
                    {
                    "model": "name",
                    "fields": {
                        "text": {
                            "input": "dba_name",
                            "from": "claim"
                        },
                        "type": {
                            "input": "dba_name",
                            "from": "value"
                        }
                    }
                    }
                ]
                },
                {
                "name": "Corporate Address",
                "schema": "address.bc_registries",
                "version": "1.0.31",
                "endpoint": "http://localhost:5000/bcreg/address",
                "topic": [
                    {
                        "parent_source_id": {
                            "input": "org_registry_id",
                            "from": "claim"
                        },
                        "parent_type": {
                            "input": "incorporation",
                            "from": "value"
                        },
                        "source_id": {
                            "input": "dba_corp_num",
                            "from": "claim"
                        },
                        "type": {
                            "input": "doing_business_as",
                            "from": "value"
                        }
                    },
                    {
                        "source_id": {
                            "input": "org_registry_id",
                            "from": "claim"
                        },
                        "type": {
                            "input": "incorporation",
                            "from": "value"
                        }
                    }
                ],
                "cardinality_fields": ["addr_type"],
                "mapping": [
                    {
                        "model": "address",
                        "fields": {
                            "addressee": {
                                "input": "addressee",
                                "from": "claim"
                            },
                            "civic_address": {
                                "input": "local_address",
                                "from": "claim"
                            },
                            "city": {
                                "input": "municipality",
                                "from": "claim"
                            },
                            "province": {
                                "input": "province",
                                "from": "claim"
                            },
                            "postal_code": {
                                "input": "postal_code",
                                "from": "claim",
                                "processor": ["string_helpers.uppercase"]
                            },
                            "country": {
                                "input": "country",
                                "from": "claim"
                            },
                            "type": {
                                "input": "addr_type",
                                "from": "claim"
                            },
                            "end_date": {
                                "input": "end_date",
                                "from": "claim"
                            }
                        }
                    }
                ]
                }
            ]
            }

        ```

        returns:

        ```json

        {
            "success": true,
            "result": {
                "issuer": {
                    "id": 1,
                    "did": "6qnvgJtqwK44D8LFYnV5Yf",
                    "name": "BC Corporate Registry",
                    "abbreviation": "BCReg",
                    "email": "bcreg.test.issuer@example.ca",
                    "url": "http://localhost:5000"
                },
                "schemas": [
                    {
                        "id": 1,
                        "name": "incorporation.bc_registries",
                        "version": "1.0.31",
                        "origin_did": "6qnvgJtqwK44D8LFYnV5Yf"
                    },
                    {
                        "id": 2,
                        "name": "doing_business_as.bc_registries",
                        "version": "1.0.31",
                        "origin_did": "6qnvgJtqwK44D8LFYnV5Yf"
                    }
                ],
                "credential_types": [
                    {
                        "id": 1,
                        "schema_id": 1,
                        "issuer_id": 1,
                        "description": "Incorporation",
                        "processor_config": null
                    },
                    {
                        "id": 2,
                        "schema_id": 2,
                        "issuer_id": 1,
                        "description": "Doing Business As",
                        "processor_config": null
                    }
                ]
            }
        }

        ```

      responses:
        "200":
          description: OK
      tags:
        - indy

  "/indy/status":
    get:
      operationId: indy_status
      description: >-
        Return status of the Indy service including statistics on the requests performed
      responses:
        "200":
          description: OK
      tags:
        - indy

  "/credential/{id}/verify":
    get:
      operationId: indy_verify
      description: >-
        Constructs a proof request for a credential stored in the
        application database, constructs a proof for that proof
        request, and then verifies it.
      responses:
        "200":
          description: OK
      tags:
        - indy
        - credential
      parameters:
      - name: id
        in: path
        description: A unique integer value identifying this credential.
        required: true
        schema:
          type: integer
servers:
  - url: 'https://orgbook.gov.bc.ca/api'
components:
  schemas:
    Address:
      required:
        - credential
      type: object
      properties:
        id:
          title: ID
          type: integer
          readOnly: true
        create_timestamp:
          title: Create timestamp
          type: string
          format: date-time
          readOnly: true
        update_timestamp:
          title: Update timestamp
          type: string
          format: date-time
          readOnly: true
        addressee:
          title: Addressee
          type: string
          minLength: 1
          nullable: true
        civic_address:
          title: Civic address
          type: string
          minLength: 1
          nullable: true
        city:
          title: City
          type: string
          minLength: 1
          nullable: true
        province:
          title: Province
          type: string
          minLength: 1
          nullable: true
        postal_code:
          title: Postal code
          type: string
          minLength: 1
          nullable: true
        country:
          title: Country
          type: string
          minLength: 1
          nullable: true
        credential:
          title: Credential
          type: integer
    Attribute:
      required:
        - credential
      type: object
      properties:
        id:
          title: ID
          type: integer
          readOnly: true
        create_timestamp:
          title: Create timestamp
          type: string
          format: date-time
          readOnly: true
        update_timestamp:
          title: Update timestamp
          type: string
          format: date-time
          readOnly: true
        type:
          title: Type
          type: string
          default: text
          minLength: 1
        format:
          title: Format
          type: string
          minLength: 1
          nullable: true
        value:
          title: Value
          type: string
          minLength: 1
          nullable: true
        credential:
          title: Credential
          type: integer
    Credential:
      required:
        - wallet_id
        - topic
        - credential_type
      type: object
      properties:
        id:
          title: ID
          type: integer
          readOnly: true
        create_timestamp:
          title: Create timestamp
          type: string
          format: date-time
          readOnly: true
        update_timestamp:
          title: Update timestamp
          type: string
          format: date-time
          readOnly: true
        wallet_id:
          title: Wallet id
          type: string
          minLength: 1
        credential_def_id:
          title: Credential def id
          type: string
          minLength: 1
          nullable: true
        cardinality_hash:
          title: Cardinality hash
          type: string
          minLength: 1
          nullable: true
        effective_date:
          title: Effective date
          type: string
          format: date-time
        inactive:
          title: Inactive
          type: boolean
        latest:
          title: Latest
          type: boolean
        revoked:
          title: Revoked
          type: boolean
        revoked_date:
          title: Revoked date
          type: string
          format: date-time
          nullable: true
        topic:
          title: Topic
          type: integer
        credential_set:
          title: Credential set
          type: integer
          nullable: true
        credential_type:
          title: Credential type
          type: integer
        revoked_by:
          title: Revoked by
          type: integer
          nullable: true
    Issuer:
      title: Issuer
      required:
        - did
        - name
        - abbreviation
        - email
        - url
      type: object
      properties:
        id:
          title: ID
          type: integer
          readOnly: true
        has_logo:
          title: Has logo
          type: boolean
          readOnly: true
        create_timestamp:
          title: Create timestamp
          type: string
          format: date-time
          readOnly: true
        update_timestamp:
          title: Update timestamp
          type: string
          format: date-time
          readOnly: true
        did:
          title: Did
          type: string
          minLength: 1
        name:
          title: Name
          type: string
          minLength: 1
        abbreviation:
          title: Abbreviation
          type: string
          minLength: 1
        email:
          title: Email
          type: string
          minLength: 1
        url:
          title: Url
          type: string
          minLength: 1
    CredentialType:
      required:
        - issuer
      type: object
      properties:
        id:
          title: ID
          type: integer
          readOnly: true
        issuer:
          $ref: '#/components/schemas/Issuer'
        has_logo:
          title: Has logo
          type: boolean
          readOnly: true
        create_timestamp:
          title: Create timestamp
          type: string
          format: date-time
          readOnly: true
        update_timestamp:
          title: Update timestamp
          type: string
          format: date-time
          readOnly: true
        description:
          title: Description
          type: string
          nullable: true
        credential_def_id:
          title: Credential def id
          type: string
          minLength: 1
          nullable: true
        schema:
          required:
            - name
            - version
            - origin_did
          type: object
          properties:
            id:
              title: ID
              type: integer
              readOnly: true
            create_timestamp:
              title: Create timestamp
              type: string
              format: date-time
              readOnly: true
            update_timestamp:
              title: Update timestamp
              type: string
              format: date-time
              readOnly: true
            name:
              title: Name
              type: string
              minLength: 1
            version:
              title: Version
              type: string
              minLength: 1
            origin_did:
              title: Origin did
              type: string
              minLength: 1
          readOnly: true
    Name:
      required:
        - credential
      type: object
      properties:
        id:
          title: ID
          type: integer
          readOnly: true
        create_timestamp:
          title: Create timestamp
          type: string
          format: date-time
          readOnly: true
        update_timestamp:
          title: Update timestamp
          type: string
          format: date-time
          readOnly: true
        text:
          title: Text
          type: string
          minLength: 1
          nullable: true
        language:
          title: Language
          type: string
          minLength: 1
          nullable: true
        credential:
          title: Credential
          type: integer
    Schema:
      required:
        - name
        - version
        - origin_did
      type: object
      properties:
        id:
          title: ID
          type: integer
          readOnly: true
        create_timestamp:
          title: Create timestamp
          type: string
          format: date-time
          readOnly: true
        update_timestamp:
          title: Update timestamp
          type: string
          format: date-time
          readOnly: true
        name:
          title: Name
          type: string
          minLength: 1
        version:
          title: Version
          type: string
          minLength: 1
        origin_did:
          title: Origin did
          type: string
          minLength: 1
    CredentialSet:
      title: Credential set
      type: object
      properties:
        id:
          title: ID
          type: integer
          readOnly: true
        create_timestamp:
          title: Create timestamp
          type: string
          format: date-time
          readOnly: true
        update_timestamp:
          title: Update timestamp
          type: string
          format: date-time
          readOnly: true
        latest_credential_id:
          title: Latest credential id
          type: string
          readOnly: true
        topic_id:
          title: Topic id
          type: string
          readOnly: true
        first_effective_date:
          title: First effective date
          type: string
          format: date-time
          nullable: true
        last_effective_date:
          title: Last effective date
          type: string
          format: date-time
          nullable: true
    CredentialAddress:
      type: object
      properties:
        country:
          title: Country
          type: string
          minLength: 1
          nullable: true
        update_timestamp:
          title: Update timestamp
          type: string
          format: date-time
          readOnly: true
        city:
          title: City
          type: string
          minLength: 1
          nullable: true
        addressee:
          title: Addressee
          type: string
          minLength: 1
          nullable: true
        civic_address:
          title: Civic address
          type: string
          minLength: 1
          nullable: true
        id:
          title: ID
          type: integer
          readOnly: true
        credential_id:
          title: Credential id
          type: string
          readOnly: true
        postal_code:
          title: Postal code
          type: string
          minLength: 1
          nullable: true
        province:
          title: Province
          type: string
          minLength: 1
          nullable: true
        create_timestamp:
          title: Create timestamp
          type: string
          format: date-time
          readOnly: true
    CredentialAttribute:
      type: object
      properties:
        id:
          title: ID
          type: integer
          readOnly: true
        type:
          title: Type
          type: string
          minLength: 1
        format:
          title: Format
          type: string
          minLength: 1
          nullable: true
        value:
          title: Value
          type: string
          minLength: 1
          nullable: true
        credential_id:
          title: Credential id
          type: string
          readOnly: true
    CredentialName:
      type: object
      properties:
        id:
          title: ID
          type: integer
          readOnly: true
        text:
          title: Text
          type: string
          minLength: 1
          nullable: true
        language:
          title: Language
          type: string
          minLength: 1
          nullable: true
        credential_id:
          title: Credential id
          type: string
          readOnly: true
    CredentialTopic:
      title: Topic
      required:
        - source_id
        - type
      type: object
      properties:
        id:
          title: ID
          type: integer
          readOnly: true
        create_timestamp:
          title: Create timestamp
          type: string
          format: date-time
          readOnly: true
        update_timestamp:
          title: Update timestamp
          type: string
          format: date-time
          readOnly: true
        source_id:
          title: Source id
          type: string
          minLength: 1
        type:
          title: Type
          type: string
          minLength: 1
    CredentialSearch:
      required:
        - credential_set
        - credential_type
        - addresses
        - attributes
        - names
        - topic
      type: object
      properties:
        id:
          title: ID
          type: integer
          readOnly: true
        create_timestamp:
          title: Create timestamp
          type: string
          format: date-time
          readOnly: true
        update_timestamp:
          title: Update timestamp
          type: string
          format: date-time
          readOnly: true
        credential_set:
          $ref: '#/components/schemas/CredentialSet'
        credential_type:
          $ref: '#/components/schemas/CredentialType'
        effective_date:
          title: Effective date
          type: string
          format: date-time
        addresses:
          type: array
          items:
            $ref: '#/components/schemas/CredentialAddress'
        attributes:
          type: array
          items:
            $ref: '#/components/schemas/CredentialAttribute'
        names:
          type: array
          items:
            $ref: '#/components/schemas/CredentialName'
        inactive:
          title: Inactive
          type: boolean
        revoked:
          title: Revoked
          type: boolean
        revoked_date:
          title: Revoked date
          type: string
          format: date-time
          nullable: true
        latest:
          title: Latest
          type: boolean
        topic:
          $ref: '#/components/schemas/CredentialTopic'
    CredentialTopicExt:
      title: Topic
      required:
        - source_id
        - type
        - addresses
        - attributes
        - names
      type: object
      properties:
        id:
          title: ID
          type: integer
          readOnly: true
        create_timestamp:
          title: Create timestamp
          type: string
          format: date-time
          readOnly: true
        update_timestamp:
          title: Update timestamp
          type: string
          format: date-time
          readOnly: true
        source_id:
          title: Source id
          type: string
          minLength: 1
        type:
          title: Type
          type: string
          minLength: 1
        addresses:
          type: array
          items:
            $ref: '#/components/schemas/CredentialAddress'
        attributes:
          type: array
          items:
            $ref: '#/components/schemas/CredentialAttribute'
        names:
          type: array
          items:
            $ref: '#/components/schemas/CredentialName'
    CredentialTopicSearch:
      required:
        - credential_set
        - credential_type
        - names
        - topic
      type: object
      properties:
        id:
          title: ID
          type: integer
          readOnly: true
        create_timestamp:
          title: Create timestamp
          type: string
          format: date-time
          readOnly: true
        update_timestamp:
          title: Update timestamp
          type: string
          format: date-time
          readOnly: true
        credential_set:
          $ref: '#/components/schemas/CredentialSet'
        credential_type:
          $ref: '#/components/schemas/CredentialType'
        effective_date:
          title: Effective date
          type: string
          format: date-time
        names:
          type: array
          items:
            $ref: '#/components/schemas/CredentialName'
        inactive:
          title: Inactive
          type: boolean
        revoked:
          title: Revoked
          type: boolean
        revoked_date:
          title: Revoked date
          type: string
          format: date-time
          nullable: true
        latest:
          title: Latest
          type: boolean
        topic:
          $ref: '#/components/schemas/CredentialTopicExt'
    Topic:
      required:
        - source_id
        - type
      type: object
      properties:
        id:
          title: ID
          type: integer
          readOnly: true
        create_timestamp:
          title: Create timestamp
          type: string
          format: date-time
          readOnly: true
        update_timestamp:
          title: Update timestamp
          type: string
          format: date-time
          readOnly: true
        source_id:
          title: Source id
          type: string
          minLength: 1
        type:
          title: Type
          type: string
          minLength: 1
        related_to:
          type: array
          items:
            type: integer
          readOnly: true
          uniqueItems: true
        related_from:
          type: array
          items:
            type: integer
          readOnly: true
          uniqueItems: true